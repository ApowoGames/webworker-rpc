!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=20)}([function(e,t,r){var n,o,i;o=[r(4)],void 0===(i="function"==typeof(n=function(e){"use strict";var t,r,n,o=e.Reader,i=e.Writer,a=e.util,s=e.roots.default||(e.roots.default={});return s.webworker_rpc=((n={}).MSG_ERR=(t={},(r=Object.create(t))[t[0]="OK"]=0,r),n.Executor=function(){function t(e){if(this.params=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.method="",t.prototype.context="",t.prototype.params=a.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=i.create()),t.uint32(10).string(e.method),null!=e.context&&Object.hasOwnProperty.call(e,"context")&&t.uint32(18).string(e.context),null!=e.params&&e.params.length)for(var r=0;r<e.params.length;++r)s.webworker_rpc.Param.encode(e.params[r],t.uint32(26).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new s.webworker_rpc.Executor;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.method=e.string();break;case 2:n.context=e.string();break;case 3:n.params&&n.params.length||(n.params=[]),n.params.push(s.webworker_rpc.Param.decode(e,e.uint32()));break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("method"))throw a.ProtocolError("missing required 'method'",{instance:n});return n},t.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(!a.isString(e.method))return"method: string expected";if(null!=e.context&&e.hasOwnProperty("context")&&!a.isString(e.context))return"context: string expected";if(null!=e.params&&e.hasOwnProperty("params")){if(!Array.isArray(e.params))return"params: array expected";for(var t=0;t<e.params.length;++t){var r=s.webworker_rpc.Param.verify(e.params[t]);if(r)return"params."+r}}return null},t.fromObject=function(e){if(e instanceof s.webworker_rpc.Executor)return e;var t=new s.webworker_rpc.Executor;if(null!=e.method&&(t.method=String(e.method)),null!=e.context&&(t.context=String(e.context)),e.params){if(!Array.isArray(e.params))throw TypeError(".webworker_rpc.Executor.params: array expected");t.params=[];for(var r=0;r<e.params.length;++r){if("object"!=typeof e.params[r])throw TypeError(".webworker_rpc.Executor.params: object expected");t.params[r]=s.webworker_rpc.Param.fromObject(e.params[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.params=[]),t.defaults&&(r.method="",r.context=""),null!=e.method&&e.hasOwnProperty("method")&&(r.method=e.method),null!=e.context&&e.hasOwnProperty("context")&&(r.context=e.context),e.params&&e.params.length){r.params=[];for(var n=0;n<e.params.length;++n)r.params[n]=s.webworker_rpc.Param.toObject(e.params[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),n.Param=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var r;return t.prototype.t=0,t.prototype.valStr="",t.prototype.valBool=!1,t.prototype.valNum=0,t.prototype.valBytes=a.newBuffer([]),Object.defineProperty(t.prototype,"val",{get:a.oneOfGetter(r=["valStr","valBool","valNum","valBytes"]),set:a.oneOfSetter(r)}),t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=i.create()),t.uint32(8).int32(e.t),null!=e.valStr&&Object.hasOwnProperty.call(e,"valStr")&&t.uint32(18).string(e.valStr),null!=e.valBool&&Object.hasOwnProperty.call(e,"valBool")&&t.uint32(24).bool(e.valBool),null!=e.valNum&&Object.hasOwnProperty.call(e,"valNum")&&t.uint32(32).int32(e.valNum),null!=e.valBytes&&Object.hasOwnProperty.call(e,"valBytes")&&t.uint32(42).bytes(e.valBytes),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new s.webworker_rpc.Param;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.t=e.int32();break;case 2:n.valStr=e.string();break;case 3:n.valBool=e.bool();break;case 4:n.valNum=e.int32();break;case 5:n.valBytes=e.bytes();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("t"))throw a.ProtocolError("missing required 't'",{instance:n});return n},t.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};switch(e.t){default:return"t: enum value expected";case 0:case 1:case 2:case 3:case 4:}if(null!=e.valStr&&e.hasOwnProperty("valStr")&&(t.val=1,!a.isString(e.valStr)))return"valStr: string expected";if(null!=e.valBool&&e.hasOwnProperty("valBool")){if(1===t.val)return"val: multiple values";if(t.val=1,"boolean"!=typeof e.valBool)return"valBool: boolean expected"}if(null!=e.valNum&&e.hasOwnProperty("valNum")){if(1===t.val)return"val: multiple values";if(t.val=1,!a.isInteger(e.valNum))return"valNum: integer expected"}if(null!=e.valBytes&&e.hasOwnProperty("valBytes")){if(1===t.val)return"val: multiple values";if(t.val=1,!(e.valBytes&&"number"==typeof e.valBytes.length||a.isString(e.valBytes)))return"valBytes: buffer expected"}return null},t.fromObject=function(e){if(e instanceof s.webworker_rpc.Param)return e;var t=new s.webworker_rpc.Param;switch(e.t){case"UNKNOWN":case 0:t.t=0;break;case"str":case 1:t.t=1;break;case"boolean":case 2:t.t=2;break;case"num":case 3:t.t=3;break;case"unit8array":case 4:t.t=4}return null!=e.valStr&&(t.valStr=String(e.valStr)),null!=e.valBool&&(t.valBool=Boolean(e.valBool)),null!=e.valNum&&(t.valNum=0|e.valNum),null!=e.valBytes&&("string"==typeof e.valBytes?a.base64.decode(e.valBytes,t.valBytes=a.newBuffer(a.base64.length(e.valBytes)),0):e.valBytes.length&&(t.valBytes=e.valBytes)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.t=t.enums===String?"UNKNOWN":0),null!=e.t&&e.hasOwnProperty("t")&&(r.t=t.enums===String?s.webworker_rpc.ParamType[e.t]:e.t),null!=e.valStr&&e.hasOwnProperty("valStr")&&(r.valStr=e.valStr,t.oneofs&&(r.val="valStr")),null!=e.valBool&&e.hasOwnProperty("valBool")&&(r.valBool=e.valBool,t.oneofs&&(r.val="valBool")),null!=e.valNum&&e.hasOwnProperty("valNum")&&(r.valNum=e.valNum,t.oneofs&&(r.val="valNum")),null!=e.valBytes&&e.hasOwnProperty("valBytes")&&(r.valBytes=t.bytes===String?a.base64.encode(e.valBytes,0,e.valBytes.length):t.bytes===Array?Array.prototype.slice.call(e.valBytes):e.valBytes,t.oneofs&&(r.val="valBytes")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),n.ParamType=function(){var e={},t=Object.create(e);return t[e[0]="UNKNOWN"]=0,t[e[1]="str"]=1,t[e[2]="boolean"]=2,t[e[3]="num"]=3,t[e[4]="unit8array"]=4,t}(),n.Header=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.serviceName="",t.prototype.error=0,t.prototype.remoteExecutor=null,t.prototype.callbackExecutor=null,t.prototype.bodyLen=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=i.create()),t.uint32(10).string(e.serviceName),t.uint32(16).int32(e.error),s.webworker_rpc.Executor.encode(e.remoteExecutor,t.uint32(26).fork()).ldelim(),null!=e.callbackExecutor&&Object.hasOwnProperty.call(e,"callbackExecutor")&&s.webworker_rpc.Executor.encode(e.callbackExecutor,t.uint32(34).fork()).ldelim(),null!=e.bodyLen&&Object.hasOwnProperty.call(e,"bodyLen")&&t.uint32(40).int32(e.bodyLen),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new s.webworker_rpc.Header;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.serviceName=e.string();break;case 2:n.error=e.int32();break;case 3:n.remoteExecutor=s.webworker_rpc.Executor.decode(e,e.uint32());break;case 4:n.callbackExecutor=s.webworker_rpc.Executor.decode(e,e.uint32());break;case 5:n.bodyLen=e.int32();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("serviceName"))throw a.ProtocolError("missing required 'serviceName'",{instance:n});if(!n.hasOwnProperty("error"))throw a.ProtocolError("missing required 'error'",{instance:n});if(!n.hasOwnProperty("remoteExecutor"))throw a.ProtocolError("missing required 'remoteExecutor'",{instance:n});return n},t.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(!a.isString(e.serviceName))return"serviceName: string expected";switch(e.error){default:return"error: enum value expected";case 0:}var t;return(t=s.webworker_rpc.Executor.verify(e.remoteExecutor))?"remoteExecutor."+t:null!=e.callbackExecutor&&e.hasOwnProperty("callbackExecutor")&&(t=s.webworker_rpc.Executor.verify(e.callbackExecutor))?"callbackExecutor."+t:null!=e.bodyLen&&e.hasOwnProperty("bodyLen")&&!a.isInteger(e.bodyLen)?"bodyLen: integer expected":null},t.fromObject=function(e){if(e instanceof s.webworker_rpc.Header)return e;var t=new s.webworker_rpc.Header;switch(null!=e.serviceName&&(t.serviceName=String(e.serviceName)),e.error){case"OK":case 0:t.error=0}if(null!=e.remoteExecutor){if("object"!=typeof e.remoteExecutor)throw TypeError(".webworker_rpc.Header.remoteExecutor: object expected");t.remoteExecutor=s.webworker_rpc.Executor.fromObject(e.remoteExecutor)}if(null!=e.callbackExecutor){if("object"!=typeof e.callbackExecutor)throw TypeError(".webworker_rpc.Header.callbackExecutor: object expected");t.callbackExecutor=s.webworker_rpc.Executor.fromObject(e.callbackExecutor)}return null!=e.bodyLen&&(t.bodyLen=0|e.bodyLen),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.serviceName="",r.error=t.enums===String?"OK":0,r.remoteExecutor=null,r.callbackExecutor=null,r.bodyLen=0),null!=e.serviceName&&e.hasOwnProperty("serviceName")&&(r.serviceName=e.serviceName),null!=e.error&&e.hasOwnProperty("error")&&(r.error=t.enums===String?s.webworker_rpc.MSG_ERR[e.error]:e.error),null!=e.remoteExecutor&&e.hasOwnProperty("remoteExecutor")&&(r.remoteExecutor=s.webworker_rpc.Executor.toObject(e.remoteExecutor,t)),null!=e.callbackExecutor&&e.hasOwnProperty("callbackExecutor")&&(r.callbackExecutor=s.webworker_rpc.Executor.toObject(e.callbackExecutor,t)),null!=e.bodyLen&&e.hasOwnProperty("bodyLen")&&(r.bodyLen=e.bodyLen),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),n.ExecutePacket=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.header=null,t.prototype.body=a.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=i.create()),s.webworker_rpc.Header.encode(e.header,t.uint32(10).fork()).ldelim(),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(18).bytes(e.body),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new s.webworker_rpc.ExecutePacket;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.header=s.webworker_rpc.Header.decode(e,e.uint32());break;case 2:n.body=e.bytes();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("header"))throw a.ProtocolError("missing required 'header'",{instance:n});return n},t.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t=s.webworker_rpc.Header.verify(e.header);return t?"header."+t:null!=e.body&&e.hasOwnProperty("body")&&!(e.body&&"number"==typeof e.body.length||a.isString(e.body))?"body: buffer expected":null},t.fromObject=function(e){if(e instanceof s.webworker_rpc.ExecutePacket)return e;var t=new s.webworker_rpc.ExecutePacket;if(null!=e.header){if("object"!=typeof e.header)throw TypeError(".webworker_rpc.ExecutePacket.header: object expected");t.header=s.webworker_rpc.Header.fromObject(e.header)}return null!=e.body&&("string"==typeof e.body?a.base64.decode(e.body,t.body=a.newBuffer(a.base64.length(e.body)),0):e.body.length&&(t.body=e.body)),t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.header=null,t.bytes===String?r.body="":(r.body=[],t.bytes!==Array&&(r.body=a.newBuffer(r.body)))),null!=e.header&&e.hasOwnProperty("header")&&(r.header=s.webworker_rpc.Header.toObject(e.header,t)),null!=e.body&&e.hasOwnProperty("body")&&(r.body=t.bytes===String?a.base64.encode(e.body,0,e.body.length):t.bytes===Array?Array.prototype.slice.call(e.body):e.body),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),n.RegistryPacket=function(){function t(e){if(this.executors=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.serviceName="",t.prototype.executors=a.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=i.create()),t.uint32(10).string(e.serviceName),null!=e.executors&&e.executors.length)for(var r=0;r<e.executors.length;++r)s.webworker_rpc.Executor.encode(e.executors[r],t.uint32(18).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new s.webworker_rpc.RegistryPacket;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.serviceName=e.string();break;case 2:n.executors&&n.executors.length||(n.executors=[]),n.executors.push(s.webworker_rpc.Executor.decode(e,e.uint32()));break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("serviceName"))throw a.ProtocolError("missing required 'serviceName'",{instance:n});return n},t.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(!a.isString(e.serviceName))return"serviceName: string expected";if(null!=e.executors&&e.hasOwnProperty("executors")){if(!Array.isArray(e.executors))return"executors: array expected";for(var t=0;t<e.executors.length;++t){var r=s.webworker_rpc.Executor.verify(e.executors[t]);if(r)return"executors."+r}}return null},t.fromObject=function(e){if(e instanceof s.webworker_rpc.RegistryPacket)return e;var t=new s.webworker_rpc.RegistryPacket;if(null!=e.serviceName&&(t.serviceName=String(e.serviceName)),e.executors){if(!Array.isArray(e.executors))throw TypeError(".webworker_rpc.RegistryPacket.executors: array expected");t.executors=[];for(var r=0;r<e.executors.length;++r){if("object"!=typeof e.executors[r])throw TypeError(".webworker_rpc.RegistryPacket.executors: object expected");t.executors[r]=s.webworker_rpc.Executor.fromObject(e.executors[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.executors=[]),t.defaults&&(r.serviceName=""),null!=e.serviceName&&e.hasOwnProperty("serviceName")&&(r.serviceName=e.serviceName),e.executors&&e.executors.length){r.executors=[];for(var n=0;n<e.executors.length;++n)r.executors[n]=s.webworker_rpc.Executor.toObject(e.executors[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),n.WebWorkerMessage=function(){function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var r;return t.prototype.key="",t.prototype.dataExecute=null,t.prototype.dataRegistry=null,Object.defineProperty(t.prototype,"data",{get:a.oneOfGetter(r=["dataExecute","dataRegistry"]),set:a.oneOfSetter(r)}),t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=i.create()),t.uint32(10).string(e.key),null!=e.dataExecute&&Object.hasOwnProperty.call(e,"dataExecute")&&s.webworker_rpc.ExecutePacket.encode(e.dataExecute,t.uint32(18).fork()).ldelim(),null!=e.dataRegistry&&Object.hasOwnProperty.call(e,"dataRegistry")&&s.webworker_rpc.RegistryPacket.encode(e.dataRegistry,t.uint32(26).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new s.webworker_rpc.WebWorkerMessage;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.key=e.string();break;case 2:n.dataExecute=s.webworker_rpc.ExecutePacket.decode(e,e.uint32());break;case 3:n.dataRegistry=s.webworker_rpc.RegistryPacket.decode(e,e.uint32());break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("key"))throw a.ProtocolError("missing required 'key'",{instance:n});return n},t.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(!a.isString(e.key))return"key: string expected";if(null!=e.dataExecute&&e.hasOwnProperty("dataExecute")&&(t.data=1,r=s.webworker_rpc.ExecutePacket.verify(e.dataExecute)))return"dataExecute."+r;if(null!=e.dataRegistry&&e.hasOwnProperty("dataRegistry")){if(1===t.data)return"data: multiple values";var r;if(t.data=1,r=s.webworker_rpc.RegistryPacket.verify(e.dataRegistry))return"dataRegistry."+r}return null},t.fromObject=function(e){if(e instanceof s.webworker_rpc.WebWorkerMessage)return e;var t=new s.webworker_rpc.WebWorkerMessage;if(null!=e.key&&(t.key=String(e.key)),null!=e.dataExecute){if("object"!=typeof e.dataExecute)throw TypeError(".webworker_rpc.WebWorkerMessage.dataExecute: object expected");t.dataExecute=s.webworker_rpc.ExecutePacket.fromObject(e.dataExecute)}if(null!=e.dataRegistry){if("object"!=typeof e.dataRegistry)throw TypeError(".webworker_rpc.WebWorkerMessage.dataRegistry: object expected");t.dataRegistry=s.webworker_rpc.RegistryPacket.fromObject(e.dataRegistry)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.key=""),null!=e.key&&e.hasOwnProperty("key")&&(r.key=e.key),null!=e.dataExecute&&e.hasOwnProperty("dataExecute")&&(r.dataExecute=s.webworker_rpc.ExecutePacket.toObject(e.dataExecute,t),t.oneofs&&(r.data="dataExecute")),null!=e.dataRegistry&&e.hasOwnProperty("dataRegistry")&&(r.dataRegistry=s.webworker_rpc.RegistryPacket.toObject(e.dataRegistry,t),t.oneofs&&(r.data="dataRegistry")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),n),s})?n.apply(t,o):n)||(e.exports=i)},function(e,t,r){"use strict";(function(e){var n=t;function o(e,t,r){for(var n=Object.keys(t),o=0;o<n.length;++o)void 0!==e[n[o]]&&r||(e[n[o]]=t[n[o]]);return e}function i(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&o(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=r(7),n.base64=r(8),n.EventEmitter=r(9),n.float=r(10),n.inquire=r(11),n.utf8=r(12),n.pool=r(13),n.LongBits=r(14),n.isNode=Boolean(void 0!==e&&e&&e.process&&e.process.versions&&e.process.versions.node),n.global=n.isNode&&e||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=o,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=i,n.ProtocolError=i("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}}).call(this,r(6))},function(e,t,r){"use strict";e.exports=f;var n,o=r(1),i=o.LongBits,a=o.base64,s=o.utf8;function c(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function u(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}var p=function(){return o.Buffer?function(){return(f.create=function(){return new n})()}:function(){return new f}};function h(e,t,r){t[r]=255&e}function y(e,t){this.len=e,this.next=void 0,this.val=t}function d(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function b(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}f.create=p(),f.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(f.alloc=o.pool(f.alloc,o.Array.prototype.subarray)),f.prototype._push=function(e,t,r){return this.tail=this.tail.next=new c(e,t,r),this.len+=t,this},y.prototype=Object.create(c.prototype),y.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new y((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},f.prototype.int32=function(e){return e<0?this._push(d,10,i.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.uint64=function(e){var t=i.from(e);return this._push(d,t.length(),t)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(d,t.length(),t)},f.prototype.bool=function(e){return this._push(h,1,e?1:0)},f.prototype.fixed32=function(e){return this._push(b,4,e>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(e){var t=i.from(e);return this._push(b,4,t.lo)._push(b,4,t.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},f.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var w=o.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};f.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(o.isString(e)){var r=f.alloc(t=a.length(e));a.decode(e,r,0),e=r}return this.uint32(t)._push(w,t,e)},f.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(h,1,0)},f.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new c(u,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},f.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},f._configure=function(e){n=e,f.create=p(),n._configure()}},function(e,t,r){"use strict";e.exports=c;var n,o=r(1),i=o.LongBits,a=o.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var u,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},f=function(){return o.Buffer?function(e){return(c.create=function(e){return o.Buffer.isBuffer(e)?new n(e):l(e)})(e)}:l};function p(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function y(){if(this.pos+8>this.len)throw s(this,8);return new i(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}c.create=f(),c.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,c.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return u}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},c.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){n=e,c.create=f(),n._configure();var t=o.Long?"toLong":"toNumber";o.merge(c.prototype,{int64:function(){return p.call(this)[t](!1)},uint64:function(){return p.call(this)[t](!0)},sint64:function(){return p.call(this).zzDecode()[t](!1)},fixed64:function(){return y.call(this)[t](!0)},sfixed64:function(){return y.call(this)[t](!1)}})}},function(e,t,r){"use strict";e.exports=r(5)},function(e,t,r){"use strict";var n=t;function o(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(2),n.BufferWriter=r(15),n.Reader=r(3),n.BufferReader=r(16),n.util=r(1),n.rpc=r(17),n.roots=r(19),n.configure=o,o()},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";e.exports=function(e,t){var r=new Array(arguments.length-1),n=0,o=2,i=!0;for(;o<arguments.length;)r[n++]=arguments[o++];return new Promise((function(o,a){r[n]=function(e){if(i)if(i=!1,e)a(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];o.apply(null,t)}};try{e.apply(t||null,r)}catch(e){i&&(i=!1,a(e))}}))}},function(e,t,r){"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var o=new Array(64),i=new Array(123),a=0;a<64;)i[o[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;n.encode=function(e,t,r){for(var n,i=null,a=[],s=0,c=0;t<r;){var u=e[t++];switch(c){case 0:a[s++]=o[u>>2],n=(3&u)<<4,c=1;break;case 1:a[s++]=o[n|u>>4],n=(15&u)<<2,c=2;break;case 2:a[s++]=o[n|u>>6],a[s++]=o[63&u],c=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=o[n],a[s++]=61,1===c&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};n.decode=function(e,t,r){for(var n,o=r,a=0,s=0;s<e.length;){var c=e.charCodeAt(s++);if(61===c&&a>1)break;if(void 0===(c=i[c]))throw Error("invalid encoding");switch(a){case 0:n=c,a=1;break;case 1:t[r++]=n<<2|(48&c)>>4,n=c,a=2;break;case 2:t[r++]=(15&n)<<4|(60&c)>>2,n=c,a=3;break;case 3:t[r++]=(3&n)<<6|c,a=0}}if(1===a)throw Error("invalid encoding");return r-o},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,r){"use strict";function n(){this._listeners={}}e.exports=n,n.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},n.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},function(e,t,r){"use strict";function n(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3]}function i(e,n,o){t[0]=e,n[o]=r[3],n[o+1]=r[2],n[o+2]=r[1],n[o+3]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?o:i,e.writeFloatBE=n?i:o,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(e,t,r,n){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),o=2*(n>>31)+1,i=n>>>23&255,a=8388607&n;return 255===i?a?NaN:o*(1/0):0===i?1401298464324817e-60*o*a:o*Math.pow(2,i-150)*(a+8388608)}e.writeFloatLE=t.bind(null,o),e.writeFloatBE=t.bind(null,i),e.readFloatLE=r.bind(null,a),e.readFloatBE=r.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3],n[o+4]=r[4],n[o+5]=r[5],n[o+6]=r[6],n[o+7]=r[7]}function i(e,n,o){t[0]=e,n[o]=r[7],n[o+1]=r[6],n[o+2]=r[5],n[o+3]=r[4],n[o+4]=r[3],n[o+5]=r[2],n[o+6]=r[1],n[o+7]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?o:i,e.writeDoubleBE=n?i:o,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(e,t,r,n,o,i){var a=n<0?1:0;if(a&&(n=-n),0===n)e(0,o,i+t),e(1/n>0?0:2147483648,o,i+r);else if(isNaN(n))e(0,o,i+t),e(2146959360,o,i+r);else if(n>17976931348623157e292)e(0,o,i+t),e((a<<31|2146435072)>>>0,o,i+r);else{var s;if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,o,i+t),e((a<<31|s/4294967296)>>>0,o,i+r);else{var c=Math.floor(Math.log(n)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=n*Math.pow(2,-c))>>>0,o,i+t),e((a<<31|c+1023<<20|1048576*s&1048575)>>>0,o,i+r)}}}function r(e,t,r,n,o){var i=e(n,o+t),a=e(n,o+r),s=2*(a>>31)+1,c=a>>>20&2047,u=4294967296*(1048575&a)+i;return 2047===c?u?NaN:s*(1/0):0===c?5e-324*s*u:s*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,o,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=r.bind(null,a,0,4),e.readDoubleBE=r.bind(null,s,4,0)}(),e}function o(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function i(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=n(n)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,r){"use strict";var n=t;n.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,r){if(r-t<1)return"";for(var n,o=null,i=[],a=0;t<r;)(n=e[t++])<128?i[a++]=n:n>191&&n<224?i[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[a++]=55296+(n>>10),i[a++]=56320+(1023&n)):i[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},n.write=function(e,t,r){for(var n,o,i=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(o=e.charCodeAt(a+1)))?(n=65536+((1023&n)<<10)+(1023&o),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-i}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=r||8192,o=n>>>1,i=null,a=n;return function(r){if(r<1||r>o)return e(r);a+r>n&&(i=e(n),a=0);var s=t.call(i,a,a+=r);return 7&a&&(a=1+(7|a)),s}}},function(e,t,r){"use strict";e.exports=o;var n=r(1);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var a=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new o(r,n)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(n.isString(e)){if(!n.Long)return o.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):i},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;o.fromHash=function(e){return e===a?i:new o((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},function(e,t,r){"use strict";e.exports=i;var n=r(2);(i.prototype=Object.create(n.prototype)).constructor=i;var o=r(1);function i(){n.call(this)}function a(e,t,r){e.length<40?o.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},i.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=o.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},i._configure()},function(e,t,r){"use strict";e.exports=i;var n=r(3);(i.prototype=Object.create(n.prototype)).constructor=i;var o=r(1);function i(e){n.call(this,e)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},function(e,t,r){"use strict";t.Service=r(18)},function(e,t,r){"use strict";e.exports=o;var n=r(1);function o(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(o.prototype=Object.create(n.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function e(t,r,o,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return n.asPromise(e,s,t,r,o,i);if(s.rpcImpl)try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,r){if(e)return s.emit("error",e,t),a(e);if(null!==r){if(!(r instanceof o))try{r=o[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",r,t),a(null,r)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,r){"use strict";e.exports={}},function(e,t,r){"use strict";r.r(t),r.d(t,"MESSAGEKEY_INIT",(function(){return f})),r.d(t,"MESSAGEKEY_ADDREGISTRY",(function(){return p})),r.d(t,"MESSAGEKEY_GOTREGISTRY",(function(){return h})),r.d(t,"MESSAGEKEY_RUNMETHOD",(function(){return y})),r.d(t,"RPCPeer",(function(){return d})),r.d(t,"LinkListener",(function(){return b})),r.d(t,"RPCFunction",(function(){return m}));var n,o=r(0),i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e){function t(t,r){var n=e.call(this)||this;return n.key=t,r instanceof o.webworker_rpc.ExecutePacket?n.dataExecute=r:r instanceof o.webworker_rpc.RegistryPacket&&(n.dataRegistry=r),n}return i(t,e),t}(o.webworker_rpc.WebWorkerMessage),s=function(e){function t(t,r){var n=e.call(this)||this;return n.serviceName=t,n.executors=r,n}return i(t,e),t.checkType=function(e){if(!e)return!1;if(!("serviceName"in e))return!1;if("executors"in e){if(!Array.isArray(e.executors))return!1;if(e.executors.length>0)for(var t=0,r=e.executors;t<r.length;t++){var n=r[t];if(!u.checkType(n))return!1}}return!0},t}(o.webworker_rpc.RegistryPacket),c=function(e){function t(t,r,n,i,a){var s=e.call(this)||this;return s.header=new o.webworker_rpc.Header,s.header.serviceName=t,s.header.remoteExecutor=new o.webworker_rpc.Executor,s.header.remoteExecutor.method=r,n&&(s.header.remoteExecutor.context=n),i&&(s.header.remoteExecutor.params=i),a&&(s.header.callbackExecutor=a),s}return i(t,e),t.checkType=function(e){if(!e)return!1;if(!("header"in e))return!1;var t=e.header;if(!("serviceName"in t))return!1;if(!("remoteExecutor"in t))return!1;var r=t.remoteExecutor;return!!u.checkType(r)},t}(o.webworker_rpc.ExecutePacket),u=function(e){function t(t,r,n){var o=e.call(this)||this;return o.method=t,r&&(o.context=r),n&&(o.params=n),o}return i(t,e),t.checkType=function(e){if(!e)return!1;if(!("method"in e))return!1;if("params"in e){if(!Array.isArray(e.params))return!1;if(e.params.length>0)for(var t=0,r=e.params;t<r.length;t++){var n=r[t];if(!l.checkType(n))return!1}}return!0},t}(o.webworker_rpc.Executor),l=function(e){function t(t,r){var n=e.call(this)||this;if(n.t=t,r)switch(t){case o.webworker_rpc.ParamType.str:if("string"!=typeof r)return;n.valStr=r;break;case o.webworker_rpc.ParamType.boolean:if("boolean"!=typeof r)return;n.valBool=r;break;case o.webworker_rpc.ParamType.num:if("number"!=typeof r)return;n.valNum=r;break;case o.webworker_rpc.ParamType.unit8array:if(r.constructor!==Uint8Array)return;n.valBytes=r}return n}return i(t,e),t.checkType=function(e){return!!e&&"t"in e},t.typeOf=function(e){return"string"==typeof e?o.webworker_rpc.ParamType.str:"boolean"==typeof e?o.webworker_rpc.ParamType.boolean:"number"==typeof e?o.webworker_rpc.ParamType.num:e.constructor===Uint8Array?o.webworker_rpc.ParamType.unit8array:o.webworker_rpc.ParamType.UNKNOWN},t}(o.webworker_rpc.Param),f="init",p="addRegistry",h="gotRegistry",y="runMethod",d=function(){function e(e,t){var r=this;e&&(this.name=e,this.worker=t,this.registry=new Map,this.channels=new Map,this.linkListeners=new Map,t&&(t.onmessage=function(e){if(e.data.key===f)for(var t=e.data.workers,n=e.ports,o=0;o<n.length;o++){var i=n[o],a=t[o];r.addLink(a,i)}}))}return e.prototype.linkTo=function(e,t){var r=new Worker(t);return this.linkToWorker(e,r)},e.prototype.linkToWorker=function(e,t){var r=new b(this.name,e);this.linkListeners.set(e,r);var n=new MessageChannel;return t.postMessage({key:f,workers:[this.name]},[n.port2]),this.addLink(e,n.port1),r},e.prototype.addLink=function(e,t){var r=this;this.channels.has(e)||(this.channels.set(e,t),t.onmessage=function(e){var t=e.data.key;if(t)switch(t){case p:r.onMessage_AddRegistry(e);break;case h:r.onMessage_GotRegistry(e);break;case y:r.onMessage_RunMethod(e)}},this.postRegistry(e,new s(this.name,w)))},e.prototype.execute=function(e,t){if(this.registry.has(e)){var r=this.registry.get(e).find((function(e){return e.context===t.header.remoteExecutor.context&&e.method===t.header.remoteExecutor.method}));if(r){var n=r.params,i=t.header.remoteExecutor.params;if(n&&n.length>0){if(!i||0===i.length)return;if(n.length>i.length)return;for(var s=0;s<n.length;s++){var c=n[s],u=i[s];if(c.t!==u.t)return}}var l=new a(y,t),f=o.webworker_rpc.WebWorkerMessage.encode(l).finish().buffer;this.channels.has(e)&&this.channels.get(e).postMessage(l,[].concat(f.slice(0)))}}},e.prototype.postRegistry=function(e,t){var r=new a(p,t),n=o.webworker_rpc.WebWorkerMessage.encode(r).finish().buffer;this.channels.has(e)&&this.channels.get(e).postMessage(r,[].concat(n.slice(0)))},e.prototype.onMessage_AddRegistry=function(e){var t=e.data.dataRegistry;if(t&&s.checkType(t)){var r=t;if(this.registry.set(r.serviceName,r.executors),this.addRegistryProperty(r),this.channels.has(r.serviceName))this.channels.get(r.serviceName).postMessage({key:h,worker:this.name});this.linkListeners.has(r.serviceName)&&this.linkListeners.get(r.serviceName).setPortReady(this.name)}},e.prototype.onMessage_GotRegistry=function(e){var t=e.data.worker;this.linkListeners.has(t)&&this.linkListeners.get(t).setPortReady(t)},e.prototype.onMessage_RunMethod=function(e){var t=this,r=e.data.dataExecute;if(r&&c.checkType(r)){var n=r,i=n.header.remoteExecutor,a=[];if(i.params)for(var s=0,u=i.params;s<u.length;s++){var f=u[s];switch(f.t){case o.webworker_rpc.ParamType.boolean:a.push(f.valBool);break;case o.webworker_rpc.ParamType.num:a.push(f.valNum);break;case o.webworker_rpc.ParamType.str:a.push(f.valStr);break;case o.webworker_rpc.ParamType.unit8array:a.push(f.valBytes)}}var p=this.executeFunctionByName(i.method,i.context,a);p&&p instanceof Promise&&p.then((function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var i=[],a=0,s=e;a<s.length;a++){var u=s[a],f=l.typeOf(u);f!==o.webworker_rpc.ParamType.UNKNOWN&&i.push(new l(f,u))}if(n.header.callbackExecutor){var p=n.header.callbackExecutor;if(p.params){if(i.length<p.params.length)return;for(var h=0;h<p.params.length;h++){var y=p.params[h],d=i[h];if(y.t!==d.t)return}t.execute(n.header.serviceName,new c(t.name,p.method,p.context,i))}else t.execute(n.header.serviceName,new c(t.name,p.method,p.context))}}))}},e.prototype.executeFunctionByName=function(e,t,r){if(!v.has(t))return null;var n=v.get(t);return n[e].apply(n,r)},e.prototype.addRegistryProperty=function(e){for(var t=this,r=e.serviceName,n=e.executors,i={},a=function(e){e.context in i||g(i,e.context,{}),g(i[e.context],e.method,(function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=[],s=null;if(n)for(var u=0,f=n;u<f.length;u++){var p=f[u],h=l.typeOf(p);h!==o.webworker_rpc.ParamType.UNKNOWN?a.push(new l(h,p)):p instanceof o.webworker_rpc.Executor&&(s=p)}s?t.execute(r,new c(t.name,e.method,e.context,a,s)):t.execute(r,new c(t.name,e.method,e.context,a))}))},s=0,u=n;s<u.length;s++){a(u[s])}this.remote||(this.remote={}),g(this.remote,r,i)},e}(),b=function(){function e(e,t){this.port1="",this.port2="",this.port1Ready=!1,this.port2Ready=!1,this.port1=e,this.port2=t}return e.prototype.onReady=function(e){this.readyFunc=e},e.prototype.setPortReady=function(e){this.port1!==e&&this.port2!==e||(this.port1Ready||(this.port1Ready=this.port1===e),this.port2Ready||(this.port2Ready=this.port2===e),this.port1Ready&&this.port2Ready&&this.readyFunc&&this.readyFunc())},e}(),w=[],v=new Map;function m(e){return function(t,r,n){var o=t.constructor.name;v.has(o)||v.set(o,t);var i=[];if(e)for(var a=0,s=e;a<s.length;a++){var c=s[a];i.push(new l(c))}i.length>0?w.push(new u(r,o,i)):w.push(new u(r,o))}}function g(e,t,r){return t in e||(e[t]=r),e}}]);